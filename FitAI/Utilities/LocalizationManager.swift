import Foundation
import SwiftUI

@MainActor
class LocalizationManager: ObservableObject {
    static let shared = LocalizationManager()

    @Published var currentLanguage: AppLanguage = .french {
        didSet {
            loadStrings()
        }
    }

    private var strings: [String: String] = [:]

    init() {
        loadStrings()
    }

    func setLanguage(_ language: AppLanguage) {
        currentLanguage = language
    }

    private func loadStrings() {
        strings = currentLanguage == .french ? frenchStrings : englishStrings
    }

    func localized(_ key: String) -> String {
        strings[key] ?? key
    }

    subscript(key: String) -> String {
        localized(key)
    }

    // MARK: - French Strings

    private let frenchStrings: [String: String] = [
        // General
        "app_name": "FitAI",
        "continue": "Continuer",
        "save": "Enregistrer",
        "cancel": "Annuler",
        "delete": "Supprimer",
        "edit": "Modifier",
        "done": "TerminÃ©",
        "next": "Suivant",
        "back": "Retour",
        "close": "Fermer",
        "yes": "Oui",
        "no": "Non",
        "ok": "OK",
        "error": "Erreur",
        "success": "SuccÃ¨s",
        "loading": "Chargement...",

        // Tab Bar
        "tab_home": "Accueil",
        "tab_workouts": "EntraÃ®nements",
        "tab_meals": "Repas",
        "tab_assistant": "Assistant",
        "tab_tracking": "Suivi",
        "tab_settings": "ParamÃ¨tres",

        // Onboarding
        "onboarding_welcome": "Bienvenue sur FitAI",
        "onboarding_subtitle": "Votre coach personnel pour la prise de masse",
        "onboarding_name": "PrÃ©nom (optionnel)",
        "onboarding_age": "Ã‚ge",
        "onboarding_weight": "Poids (kg)",
        "onboarding_height": "Taille (cm)",
        "onboarding_sex": "Sexe",
        "onboarding_equipment": "Ã‰quipement",
        "onboarding_sessions": "SÃ©ances par semaine",
        "onboarding_language": "Langue",
        "onboarding_create_profile": "CrÃ©er mon profil",
        "onboarding_disclaimer_title": "Avertissement SantÃ©",
        "onboarding_disclaimer_text": "Cette application fournit des conseils gÃ©nÃ©raux de fitness et ne remplace pas l'avis d'un professionnel de santÃ©. Consultez un mÃ©decin avant de commencer tout programme d'exercice. En utilisant cette application, vous reconnaissez que vous Ãªtes responsable de votre propre santÃ© et forme physique.",
        "onboarding_accept_disclaimer": "J'accepte et je comprends",
        "onboarding_notifications": "Activer les notifications",
        "onboarding_notifications_desc": "Recevez des rappels pour vos sÃ©ances d'entraÃ®nement",
        "onboarding_enter_age": "Entrez votre Ã¢ge",
        "onboarding_enter_weight": "Entrez votre poids en kg",
        "onboarding_enter_height": "Entrez votre taille en cm",
        "onboarding_regime_title": "RÃ©gime alimentaire",
        "onboarding_regime_subtitle": "Quel type d'alimentation suivez-vous ?",
        "onboarding_allergies_title": "Allergies",
        "onboarding_allergies_subtitle": "SÃ©lectionnez vos allergies alimentaires",
        "onboarding_dislikes_title": "Aliments Ã  Ã©viter",
        "onboarding_dislikes_subtitle": "Y a-t-il des aliments que vous n'aimez pas ?",

        // Sex
        "sex_male": "Homme",
        "sex_female": "Femme",
        "sex_other": "Autre",

        // Fitness Goals
        "onboarding_goal_title": "Quel est votre objectif ?",
        "onboarding_goal_subtitle": "Nous adapterons vos repas et entraÃ®nements en consÃ©quence",
        "goal_weight_loss": "Perte de poids",
        "goal_weight_loss_desc": "BrÃ»ler les graisses tout en prÃ©servant la masse musculaire",
        "goal_muscle_gain": "Prise de masse",
        "goal_muscle_gain_desc": "DÃ©velopper la masse musculaire avec un surplus calorique",
        "goal_maintenance": "Maintien",
        "goal_maintenance_desc": "Garder votre physique actuel et rester en forme",
        "goal_recomposition": "Recomposition",
        "goal_recomposition_desc": "Perdre du gras et gagner du muscle simultanÃ©ment",

        // Equipment
        "equipment_dumbbells": "HaltÃ¨res",
        "equipment_none": "Sans matÃ©riel",

        // Dietary Regimes
        "diet_standard": "Standard",
        "diet_vegetarian": "VÃ©gÃ©tarien",
        "diet_vegan": "VÃ©gan",
        "diet_pescatarian": "PescÃ©tarien",
        "diet_keto": "Keto",
        "diet_paleo": "PalÃ©o",
        "diet_mediterranean": "MÃ©diterranÃ©en",

        // Food Allergies
        "allergy_gluten": "Gluten",
        "allergy_lactose": "Lactose",
        "allergy_nuts": "Fruits Ã  coque",
        "allergy_peanuts": "Arachides",
        "allergy_shellfish": "CrustacÃ©s",
        "allergy_eggs": "Å’ufs",
        "allergy_soy": "Soja",
        "allergy_fish": "Poisson",

        // Food Dislikes
        "dislike_red_meat": "Viande rouge",
        "dislike_pork": "Porc",
        "dislike_chicken": "Poulet",
        "dislike_fish": "Poisson",
        "dislike_seafood": "Fruits de mer",
        "dislike_eggs": "Å’ufs",
        "dislike_dairy": "Produits laitiers",
        "dislike_spicy": "Ã‰picÃ©",
        "dislike_mushrooms": "Champignons",
        "dislike_onions": "Oignons",

        // Dietary Settings
        "settings_dietary": "PrÃ©fÃ©rences alimentaires",
        "settings_dietary_regime": "RÃ©gime alimentaire",
        "settings_allergies": "Allergies",
        "settings_dislikes": "Aliments Ã  Ã©viter",
        "settings_no_allergies": "Aucune allergie",
        "settings_no_dislikes": "Aucun aliment Ã  Ã©viter",

        // Difficulty
        "difficulty_beginner": "DÃ©butant",
        "difficulty_intermediate": "IntermÃ©diaire",
        "difficulty_advanced": "AvancÃ©",

        // Muscle Groups
        "muscle_chest": "Poitrine",
        "muscle_back": "Dos",
        "muscle_shoulders": "Ã‰paules",
        "muscle_biceps": "Biceps",
        "muscle_triceps": "Triceps",
        "muscle_legs": "Jambes",
        "muscle_core": "Abdominaux",
        "muscle_glutes": "Fessiers",
        "muscle_full_body": "Corps entier",

        // Home
        "home_today_workout": "SÃ©ance du jour",
        "home_no_workout": "Pas de sÃ©ance aujourd'hui",
        "home_rest_day": "Jour de repos",
        "home_workout_done": "SÃ©ance terminÃ©e !",
        "home_workout_done_subtitle": "Bravo ! Vous avez terminÃ© votre entraÃ®nement du jour.",
        "home_start_workout": "DÃ©marrer la sÃ©ance",
        "home_view_program": "Voir le programme",
        "home_view_meals": "Voir le menu",
        "home_generate_menu": "GÃ©nÃ©rer le menu du jour",
        "home_duration": "DurÃ©e estimÃ©e",
        "home_minutes": "min",
        "home_exercises": "exercices",
        "home_week": "Semaine",
        "home_day": "Jour",
        "home_completed": "TerminÃ©e",
        "home_stats_title": "Vos progrÃ¨s",
        "home_total_workouts": "SÃ©ances totales",
        "home_this_week": "Cette semaine",
        "home_weight_change": "Ã‰volution poids",

        // Workouts
        "workouts_title": "Programme",
        "workouts_week": "Semaine",
        "workouts_generate": "GÃ©nÃ©rer la semaine",
        "workouts_regenerate": "RegÃ©nÃ©rer",
        "workouts_empty": "Aucun programme gÃ©nÃ©rÃ©",
        "workouts_empty_desc": "GÃ©nÃ©rez votre premier programme d'entraÃ®nement",
        "workouts_delete": "Supprimer cette semaine",
        "workouts_delete_confirm": "Voulez-vous supprimer le programme de cette semaine ?",
        "workouts_current": "Actuelle",
        "workouts_completed": "terminÃ©es",
        "workouts_not_generated": "Non gÃ©nÃ©rÃ©e",
        "workouts_sessions": "SÃ©ances",
        "workouts_exercises": "Exercices",
        "workouts_difficulty": "DifficultÃ©",

        // Workout Detail
        "workout_sets": "sÃ©ries",
        "workout_reps": "reps",
        "workout_rest": "Repos",
        "workout_seconds": "sec",
        "workout_tempo": "Tempo",
        "workout_log_session": "Enregistrer la sÃ©ance",
        "workout_complete": "Terminer",
        "workout_notes": "Notes",
        "workout_add_notes": "Ajouter des notes...",
        "workout_weight_used": "Poids utilisÃ© (kg)",
        "workout_reps_done": "RÃ©pÃ©titions effectuÃ©es",
        "workout_session_saved": "SÃ©ance enregistrÃ©e !",
        "workout_rate": "Noter la sÃ©ance",
        "workout_last_weight": "Dernier poids",
        "workout_difficulty_question": "Comment Ã©tait cette sÃ©ance ?",
        "workout_difficulty_desc": "Votre feedback nous aide Ã  ajuster les poids pour la prochaine fois",
        "difficulty_too_easy": "Trop facile",
        "difficulty_just_right": "Parfait",
        "difficulty_too_hard": "Trop dur",

        // Exercise Detail
        "exercise_watch_video": "Voir la vidÃ©o",
        "exercise_no_image": "Pas d'image disponible",
        "exercise_muscles": "Muscles ciblÃ©s",
        "exercise_instructions": "Instructions",
        "exercise_tips": "Conseils",
        "exercise_tip_form": "Gardez une bonne posture tout au long du mouvement",
        "exercise_tip_breathing": "Expirez Ã  l'effort, inspirez au retour",
        "exercise_tip_control": "ContrÃ´lez le mouvement, Ã©vitez les Ã -coups",
        "exercise_how_to": "Comment faire ?",
        "exercise_secondary_muscles": "Muscles secondaires",
        "exercise_description": "Description",

        // Active Workout
        "active_workout_title": "SÃ©ance en cours",
        "active_workout_set": "SÃ©rie",
        "active_workout_of": "sur",
        "active_workout_next": "Suivant",
        "active_workout_previous": "PrÃ©cÃ©dent",
        "active_workout_finish": "Terminer la sÃ©ance",
        "active_workout_rest_timer": "Temps de repos",
        "active_workout_skip_rest": "Passer",

        // Meals
        "meals_title": "Plan repas",
        "meals_today": "Aujourd'hui",
        "meals_breakfast": "Petit-dÃ©jeuner",
        "meals_lunch": "DÃ©jeuner",
        "meals_dinner": "DÃ®ner",
        "meals_snacks": "Collations",
        "meals_generate": "GÃ©nÃ©rer le menu",
        "meals_regenerate": "RegÃ©nÃ©rer",
        "meals_kcal": "kcal",
        "meals_protein": "ProtÃ©ines",
        "meals_carbs": "Glucides",
        "meals_fats": "Lipides",
        "meals_total": "Total journalier",
        "meals_empty": "Aucun plan repas",
        "meals_empty_desc": "GÃ©nÃ©rez votre plan repas du jour",
        "meals_grams": "g",
        "meals_ingredients": "IngrÃ©dients",
        "meals_instructions": "PrÃ©paration",
        "meals_delete": "Supprimer ce menu",
        "meals_delete_confirm": "Voulez-vous supprimer le menu de ce jour ?",

        // Water
        "water_title": "Hydratation",
        "water_glasses": "verres",
        "water_goal": "Objectif",
        "water_add": "Ajouter un verre",

        // Assistant
        "assistant_title": "Assistant IA",
        "assistant_placeholder": "Posez votre question...",
        "assistant_send": "Envoyer",
        "assistant_welcome": "Bonjour ! Je suis votre assistant fitness. Comment puis-je vous aider ?",
        "assistant_quick_actions": "Actions rapides",
        "assistant_generate_week": "GÃ©nÃ©rer semaine 1",
        "assistant_enable_reminders": "Activer rappels",
        "assistant_explain_macros": "Expliquer les macros",
        "assistant_tips": "Conseils du jour",

        // Tracking
        "tracking_title": "Suivi",
        "tracking_weight": "Poids",
        "tracking_sessions": "SÃ©ances",
        "tracking_add_weight": "Ajouter poids",
        "tracking_current_weight": "Poids actuel",
        "tracking_start_weight": "Poids initial",
        "tracking_progress": "Progression",
        "tracking_no_data": "Pas encore de donnÃ©es",
        "tracking_no_data_desc": "Commencez Ã  enregistrer votre poids",
        "tracking_no_sessions_desc": "Terminez votre premiÃ¨re sÃ©ance pour voir votre historique",
        "tracking_history": "Historique",
        "tracking_export": "Exporter CSV",
        "tracking_kg": "kg",
        "tracking_tap_to_edit": "Appuyez pour saisir manuellement",
        "tracking_gained": "pris",
        "tracking_lost": "perdu",

        // Settings
        "settings_title": "ParamÃ¨tres",
        "settings_profile": "Profil",
        "settings_notifications": "Notifications",
        "settings_notifications_enabled": "Activer les notifications",
        "settings_reminder": "Rappel avant sÃ©ance",
        "settings_minutes_before": "minutes avant",
        "settings_language": "Langue",
        "settings_about": "Ã€ propos",
        "settings_disclaimer": "Avertissement santÃ©",
        "settings_reset": "RÃ©initialiser l'application",
        "settings_reset_confirm": "ÃŠtes-vous sÃ»r de vouloir tout rÃ©initialiser ? Cette action est irrÃ©versible.",
        "settings_version": "Version",
        "settings_export_data": "Exporter mes donnÃ©es",

        // Exercise Names
        "ex_push_ups": "Pompes",
        "ex_diamond_push_ups": "Pompes diamant",
        "ex_wide_push_ups": "Pompes Ã©cartÃ©es",
        "ex_decline_push_ups": "Pompes dÃ©clinÃ©es",
        "ex_pike_push_ups": "Pompes piquÃ©es",
        "ex_dumbbell_bench_press": "DÃ©veloppÃ© couchÃ© haltÃ¨res",
        "ex_dumbbell_flyes": "Ã‰cartÃ© haltÃ¨res",
        "ex_incline_dumbbell_press": "DÃ©veloppÃ© inclinÃ© haltÃ¨res",
        "ex_dumbbell_pullover": "Pull-over haltÃ¨res",
        "ex_dumbbell_rows": "Rowing haltÃ¨res",
        "ex_single_arm_row": "Rowing un bras",
        "ex_renegade_rows": "Rowing renegade",
        "ex_dumbbell_deadlift": "SoulevÃ© de terre haltÃ¨res",
        "ex_dumbbell_shoulder_press": "DÃ©veloppÃ© Ã©paules haltÃ¨res",
        "ex_lateral_raises": "Ã‰lÃ©vations latÃ©rales",
        "ex_front_raises": "Ã‰lÃ©vations frontales",
        "ex_rear_delt_flyes": "Oiseau arriÃ¨re Ã©paules",
        "ex_dumbbell_shrugs": "Shrugs haltÃ¨res",
        "ex_bicep_curls": "Curl biceps",
        "ex_hammer_curls": "Curl marteau",
        "ex_concentration_curls": "Curl concentration",
        "ex_tricep_kickbacks": "Kickback triceps",
        "ex_tricep_extensions": "Extension triceps",
        "ex_close_grip_push_ups": "Pompes serrÃ©es",
        "ex_goblet_squats": "Goblet squats",
        "ex_lunges": "Fentes",
        "ex_bulgarian_split_squats": "Fentes bulgares",
        "ex_dumbbell_rdl": "RDL haltÃ¨res",
        "ex_calf_raises": "Mollets debout",
        "ex_glute_bridges": "Pont fessier",
        "ex_hip_thrusts": "Hip thrust",
        "ex_step_ups": "Step-ups",
        "ex_wall_sit": "Chaise murale",
        "ex_squats": "Squats",
        "ex_jump_squats": "Squats sautÃ©s",
        "ex_plank": "Planche",
        "ex_side_plank": "Planche latÃ©rale",
        "ex_mountain_climbers": "Mountain climbers",
        "ex_leg_raises": "RelevÃ©s de jambes",
        "ex_russian_twists": "Russian twists",
        "ex_crunches": "Crunchs",
        "ex_bicycle_crunches": "Crunchs vÃ©lo",
        "ex_dead_bug": "Dead bug",
        "ex_superman": "Superman",
        "ex_burpees": "Burpees",
        "ex_jumping_jacks": "Jumping jacks",
        "ex_high_knees": "Genoux hauts",

        // Workout Types
        "workout_full_body": "Full Body",
        "workout_upper_body": "Haut du corps",
        "workout_lower_body": "Bas du corps",
        "workout_push": "Push",
        "workout_pull": "Pull",
        "workout_legs": "Jambes",
        "workout_arms": "Bras",
        "workout_core": "Abdos",
        "workout_challenge": "Challenge",

        // New Exercises
        "ex_arnold_press": "Arnold Press",
        "ex_incline_curls": "Curls inclinÃ©s",
        "ex_skull_crushers": "Skull Crushers",
        "ex_sumo_squats": "Squats sumo",
        "ex_weighted_crunches": "Crunchs lestÃ©s",
        "ex_archer_push_ups": "Pompes archer",
        "ex_handstand_hold": "Ã‰quilibre sur les mains",
        "ex_bench_dips": "Dips sur banc",
        "ex_pistol_squats": "Pistol squats",
        "ex_jumping_lunges": "Fentes sautÃ©es",
        "ex_single_leg_glute_bridge": "Pont fessier unipodal",
        "ex_donkey_kicks": "Donkey kicks",
        "ex_hollow_hold": "Hollow hold",
        "ex_v_ups": "V-ups",
        "ex_reverse_snow_angels": "Snow angels inversÃ©s",
        "ex_star_jumps": "Star jumps",
        "ex_dumbbell_complex": "Complexe haltÃ¨res",
        "ex_complex_note": "Curl + Press + Squat enchaÃ®nÃ©s",

        // Meal Names
        "meal_oatmeal_banana": "Flocons d'avoine banane",
        "meal_eggs_toast": "Å’ufs et tartines",
        "meal_protein_smoothie": "Smoothie protÃ©inÃ©",
        "meal_greek_yogurt": "Yaourt grec et fruits",
        "meal_chicken_rice": "Poulet riz lÃ©gumes",
        "meal_pasta_beef": "PÃ¢tes bÅ“uf hachÃ©",
        "meal_salmon_quinoa": "Saumon quinoa",
        "meal_tuna_salad": "Salade de thon",
        "meal_steak_potatoes": "Steak pommes de terre",
        "meal_turkey_wrap": "Wrap dinde",
        "meal_fish_vegetables": "Poisson lÃ©gumes",
        "meal_beef_stir_fry": "BÅ“uf sautÃ© lÃ©gumes",
        "meal_nuts_fruit": "Noix et fruits",
        "meal_protein_bar": "Barre protÃ©inÃ©e",
        "meal_cottage_cheese": "Fromage blanc",

        // Days
        "day_monday": "Lundi",
        "day_tuesday": "Mardi",
        "day_wednesday": "Mercredi",
        "day_thursday": "Jeudi",
        "day_friday": "Vendredi",
        "day_saturday": "Samedi",
        "day_sunday": "Dimanche",

        // Errors
        "error_generation": "Erreur lors de la gÃ©nÃ©ration",
        "error_save": "Erreur lors de la sauvegarde",
        "error_load": "Erreur lors du chargement",

        // Authentication
        "auth_title": "CrÃ©er un compte",
        "auth_subtitle": "Sauvegardez vos donnÃ©es et synchronisez entre appareils",
        "auth_skip": "Continuer sans compte",
        "auth_signup": "S'inscrire",
        "auth_signin": "Se connecter",
        "auth_email": "Email",
        "auth_password": "Mot de passe",
        "auth_google": "Continuer avec Google",
        "auth_or": "ou",
        "auth_sign_out": "Se dÃ©connecter",
        "auth_sign_out_confirm": "Voulez-vous vraiment vous dÃ©connecter ? Vous devrez vous reconnecter pour accÃ©der Ã  vos donnÃ©es.",
        "auth_delete_account": "Supprimer le compte",
        "auth_delete_confirm": "ÃŠtes-vous sÃ»r de vouloir supprimer votre compte ? Toutes vos donnÃ©es seront perdues.",
        "auth_anonymous": "Compte invitÃ©",
        "auth_logged_in_as": "ConnectÃ©",
        "auth_not_logged_in": "Non connectÃ©",
        "settings_account": "Compte",
        "settings_appearance": "Apparence",
        "settings_theme": "ThÃ¨me",
        "settings_accent_color": "Couleur d'accent",
        "settings_danger_zone": "Zone danger",

        // Theme modes
        "theme_mode_system": "SystÃ¨me",
        "theme_mode_light": "Clair",
        "theme_mode_dark": "Sombre",

        // Accent colors
        "accent_color_teal": "Turquoise",
        "accent_color_coral": "Corail",
        "accent_color_purple": "Violet",
        "accent_color_blue": "Bleu",
        "accent_color_green": "Vert",
        "accent_color_orange": "Orange",
        "accent_color_pink": "Rose",

        // Notifications
        "settings_workout_time": "Heure d'entraÃ®nement",
        "notification_workout_time": "C'est l'heure de ton entraÃ®nement ! ðŸ’ª",
        "notification_new_week": "PrÃ©pare ta semaine ! GÃ©nÃ¨re ton programme d'entraÃ®nement pour la semaine Ã  venir ðŸ“…",
        "notification_weekly_summary": "Ta semaine est terminÃ©e ! DÃ©couvre ton rÃ©cap et prÃ©pare la suivante ðŸ“Š",

        // Weekly Summary
        "summary_title": "RÃ©cap de la semaine",
        "summary_completed": "complÃ©tÃ©",
        "summary_sessions": "SÃ©ances",
        "summary_training_time": "Temps total",
        "summary_streak": "SÃ©rie",
        "summary_days": "jours",
        "summary_avg_rating": "Note moyenne",
        "summary_weight_progress": "Ã‰volution du poids",
        "summary_start": "DÃ©but",
        "summary_end": "Fin",
        "summary_best_exercises": "Meilleures progressions",
        "summary_nutrition": "Nutrition moyenne",
        "summary_recommendations": "Recommandations IA",
        "summary_no_recommendations": "ComplÃ©tez quelques sÃ©ances pour obtenir des recommandations personnalisÃ©es.",
        "summary_generate_next_week": "GÃ©nÃ©rer la semaine suivante",
        "summary_banner_title": "RÃ©cap hebdomadaire disponible",
        "summary_banner_subtitle": "Voir votre bilan et prÃ©parer la semaine suivante",

        // Loading Overlays
        "meals_generating_title": "PrÃ©paration de vos repas",
        "meals_generating_subtitle": "L'IA crÃ©e un menu personnalisÃ© selon vos objectifs",
        "workouts_generating_title": "CrÃ©ation de votre programme",
        "workouts_generating_subtitle": "L'IA optimise vos entraÃ®nements pour la semaine",

        // Premium / Subscription
        "premium_title": "FitAI Premium",
        "premium_unlock": "DÃ©bloquez tout le potentiel de l'IA",
        "premium_subtitle": "GÃ©nÃ©ration illimitÃ©e de programmes et repas personnalisÃ©s",
        "premium_feature_ai": "IA IllimitÃ©e",
        "premium_feature_ai_desc": "GÃ©nÃ©ration sans limite de programmes et repas",
        "premium_feature_meals": "Repas PersonnalisÃ©s",
        "premium_feature_meals_desc": "Menus quotidiens adaptÃ©s Ã  vos objectifs",
        "premium_feature_workouts": "Programmes Adaptatifs",
        "premium_feature_workouts_desc": "EntraÃ®nements qui Ã©voluent avec vous",
        "premium_feature_summary": "RÃ©sumÃ© Hebdo IA",
        "premium_feature_summary_desc": "Recommandations personnalisÃ©es chaque semaine",
        "premium_feature_regenerate": "RegÃ©nÃ©ration IllimitÃ©e",
        "premium_feature_regenerate_desc": "Changez de programme quand vous voulez",
        "premium_monthly": "Mensuel",
        "premium_monthly_desc": "Facturation mensuelle, annulez Ã  tout moment",
        "premium_yearly": "Annuel",
        "premium_yearly_desc": "Meilleure offre, Ã©conomisez plus de 30%",
        "premium_month": "mois",
        "premium_subscribe": "S'abonner",
        "premium_restore": "Restaurer les achats",
        "premium_legal": "L'abonnement se renouvelle automatiquement. Annulez Ã  tout moment dans les paramÃ¨tres de l'App Store.",
        "premium_terms": "Conditions d'utilisation",
        "premium_privacy": "Politique de confidentialitÃ©",
        "premium_loading_error": "Impossible de charger les abonnements",
        "premium_retry": "RÃ©essayer",
        "premium_remaining": "gÃ©nÃ©rations restantes ce mois",
        "premium_limit_reached": "Limite atteinte ce mois",
        "premium_upgrade": "Passer Premium",
        "premium_badge": "Premium",
        "premium_free_trial": "7 jours gratuits",
        "settings_subscription": "Abonnement",
        "settings_subscription_status": "Statut",
        "settings_subscription_free": "Gratuit",
        "settings_subscription_premium": "Premium",
        "settings_manage_subscription": "GÃ©rer l'abonnement",
        "settings_premium_active": "Abonnement actif",
        "settings_free_plan": "Plan Gratuit",
        "settings_free_limits": "GÃ©nÃ©rations IA limitÃ©es",
        "settings_workouts_remaining": "Programmes restants",
        "settings_meals_remaining": "Menus restants",
    ]

    // MARK: - English Strings

    private let englishStrings: [String: String] = [
        // General
        "app_name": "FitAI",
        "continue": "Continue",
        "save": "Save",
        "cancel": "Cancel",
        "delete": "Delete",
        "edit": "Edit",
        "done": "Done",
        "next": "Next",
        "back": "Back",
        "close": "Close",
        "yes": "Yes",
        "no": "No",
        "ok": "OK",
        "error": "Error",
        "success": "Success",
        "loading": "Loading...",

        // Tab Bar
        "tab_home": "Home",
        "tab_workouts": "Workouts",
        "tab_meals": "Meals",
        "tab_assistant": "Assistant",
        "tab_tracking": "Tracking",
        "tab_settings": "Settings",

        // Onboarding
        "onboarding_welcome": "Welcome to FitAI",
        "onboarding_subtitle": "Your personal coach for muscle building",
        "onboarding_name": "First name (optional)",
        "onboarding_age": "Age",
        "onboarding_weight": "Weight (kg)",
        "onboarding_height": "Height (cm)",
        "onboarding_sex": "Sex",
        "onboarding_equipment": "Equipment",
        "onboarding_sessions": "Sessions per week",
        "onboarding_language": "Language",
        "onboarding_create_profile": "Create my profile",
        "onboarding_disclaimer_title": "Health Disclaimer",
        "onboarding_disclaimer_text": "This app provides general fitness advice and does not replace professional medical advice. Consult a doctor before starting any exercise program. By using this app, you acknowledge that you are responsible for your own health and fitness.",
        "onboarding_accept_disclaimer": "I accept and understand",
        "onboarding_notifications": "Enable notifications",
        "onboarding_notifications_desc": "Get reminders for your workout sessions",
        "onboarding_enter_age": "Enter your age",
        "onboarding_enter_weight": "Enter your weight in kg",
        "onboarding_enter_height": "Enter your height in cm",
        "onboarding_regime_title": "Dietary Regime",
        "onboarding_regime_subtitle": "What type of diet do you follow?",
        "onboarding_allergies_title": "Allergies",
        "onboarding_allergies_subtitle": "Select your food allergies",
        "onboarding_dislikes_title": "Foods to Avoid",
        "onboarding_dislikes_subtitle": "Are there foods you don't like?",

        // Sex
        "sex_male": "Male",
        "sex_female": "Female",
        "sex_other": "Other",

        // Fitness Goals
        "onboarding_goal_title": "What's your goal?",
        "onboarding_goal_subtitle": "We'll adapt your meals and workouts accordingly",
        "goal_weight_loss": "Weight Loss",
        "goal_weight_loss_desc": "Burn fat while preserving muscle mass",
        "goal_muscle_gain": "Muscle Gain",
        "goal_muscle_gain_desc": "Build muscle mass with a caloric surplus",
        "goal_maintenance": "Maintenance",
        "goal_maintenance_desc": "Keep your current physique and stay fit",
        "goal_recomposition": "Recomposition",
        "goal_recomposition_desc": "Lose fat and gain muscle simultaneously",

        // Equipment
        "equipment_dumbbells": "Dumbbells",
        "equipment_none": "No equipment",

        // Dietary Regimes
        "diet_standard": "Standard",
        "diet_vegetarian": "Vegetarian",
        "diet_vegan": "Vegan",
        "diet_pescatarian": "Pescatarian",
        "diet_keto": "Keto",
        "diet_paleo": "Paleo",
        "diet_mediterranean": "Mediterranean",

        // Food Allergies
        "allergy_gluten": "Gluten",
        "allergy_lactose": "Lactose",
        "allergy_nuts": "Tree nuts",
        "allergy_peanuts": "Peanuts",
        "allergy_shellfish": "Shellfish",
        "allergy_eggs": "Eggs",
        "allergy_soy": "Soy",
        "allergy_fish": "Fish",

        // Food Dislikes
        "dislike_red_meat": "Red meat",
        "dislike_pork": "Pork",
        "dislike_chicken": "Chicken",
        "dislike_fish": "Fish",
        "dislike_seafood": "Seafood",
        "dislike_eggs": "Eggs",
        "dislike_dairy": "Dairy",
        "dislike_spicy": "Spicy food",
        "dislike_mushrooms": "Mushrooms",
        "dislike_onions": "Onions",

        // Dietary Settings
        "settings_dietary": "Dietary preferences",
        "settings_dietary_regime": "Diet type",
        "settings_allergies": "Allergies",
        "settings_dislikes": "Foods to avoid",
        "settings_no_allergies": "No allergies",
        "settings_no_dislikes": "No foods to avoid",

        // Difficulty
        "difficulty_beginner": "Beginner",
        "difficulty_intermediate": "Intermediate",
        "difficulty_advanced": "Advanced",

        // Muscle Groups
        "muscle_chest": "Chest",
        "muscle_back": "Back",
        "muscle_shoulders": "Shoulders",
        "muscle_biceps": "Biceps",
        "muscle_triceps": "Triceps",
        "muscle_legs": "Legs",
        "muscle_core": "Core",
        "muscle_glutes": "Glutes",
        "muscle_full_body": "Full Body",

        // Home
        "home_today_workout": "Today's Workout",
        "home_no_workout": "No workout today",
        "home_rest_day": "Rest day",
        "home_workout_done": "Workout done!",
        "home_workout_done_subtitle": "Great job! You've completed today's workout.",
        "home_start_workout": "Start Workout",
        "home_view_program": "View Program",
        "home_view_meals": "View Menu",
        "home_generate_menu": "Generate today's menu",
        "home_duration": "Estimated duration",
        "home_minutes": "min",
        "home_exercises": "exercises",
        "home_week": "Week",
        "home_day": "Day",
        "home_completed": "Completed",
        "home_stats_title": "Your Progress",
        "home_total_workouts": "Total workouts",
        "home_this_week": "This week",
        "home_weight_change": "Weight change",

        // Workouts
        "workouts_title": "Program",
        "workouts_week": "Week",
        "workouts_generate": "Generate week",
        "workouts_regenerate": "Regenerate",
        "workouts_empty": "No program generated",
        "workouts_empty_desc": "Generate your first workout program",
        "workouts_delete": "Delete this week",
        "workouts_delete_confirm": "Do you want to delete this week's program?",
        "workouts_current": "Current",
        "workouts_completed": "completed",
        "workouts_not_generated": "Not generated",
        "workouts_sessions": "Sessions",
        "workouts_exercises": "Exercises",
        "workouts_difficulty": "Difficulty",

        // Workout Detail
        "workout_sets": "sets",
        "workout_reps": "reps",
        "workout_rest": "Rest",
        "workout_seconds": "sec",
        "workout_tempo": "Tempo",
        "workout_log_session": "Log Session",
        "workout_complete": "Complete",
        "workout_notes": "Notes",
        "workout_add_notes": "Add notes...",
        "workout_weight_used": "Weight used (kg)",
        "workout_reps_done": "Reps completed",
        "workout_session_saved": "Session saved!",
        "workout_rate": "Rate session",
        "workout_last_weight": "Last weight",
        "workout_difficulty_question": "How was this session?",
        "workout_difficulty_desc": "Your feedback helps us adjust weights for next time",
        "difficulty_too_easy": "Too easy",
        "difficulty_just_right": "Just right",
        "difficulty_too_hard": "Too hard",

        // Exercise Detail
        "exercise_watch_video": "Watch Video",
        "exercise_no_image": "No image available",
        "exercise_muscles": "Target Muscles",
        "exercise_instructions": "Instructions",
        "exercise_tips": "Tips",
        "exercise_tip_form": "Maintain proper form throughout the movement",
        "exercise_tip_breathing": "Exhale on exertion, inhale on return",
        "exercise_tip_control": "Control the movement, avoid jerky motions",
        "exercise_how_to": "How to do it?",
        "exercise_secondary_muscles": "Secondary muscles",
        "exercise_description": "Description",

        // Active Workout
        "active_workout_title": "Active Workout",
        "active_workout_set": "Set",
        "active_workout_of": "of",
        "active_workout_next": "Next",
        "active_workout_previous": "Previous",
        "active_workout_finish": "Finish Workout",
        "active_workout_rest_timer": "Rest Timer",
        "active_workout_skip_rest": "Skip",

        // Meals
        "meals_title": "Meal Plan",
        "meals_today": "Today",
        "meals_breakfast": "Breakfast",
        "meals_lunch": "Lunch",
        "meals_dinner": "Dinner",
        "meals_snacks": "Snacks",
        "meals_generate": "Generate Menu",
        "meals_regenerate": "Regenerate",
        "meals_kcal": "kcal",
        "meals_protein": "Protein",
        "meals_carbs": "Carbs",
        "meals_fats": "Fats",
        "meals_total": "Daily Total",
        "meals_empty": "No meal plan",
        "meals_empty_desc": "Generate your daily meal plan",
        "meals_grams": "g",
        "meals_ingredients": "Ingredients",
        "meals_instructions": "Instructions",
        "meals_delete": "Delete this menu",
        "meals_delete_confirm": "Do you want to delete this day's menu?",

        // Water
        "water_title": "Hydration",
        "water_glasses": "glasses",
        "water_goal": "Goal",
        "water_add": "Add a glass",

        // Assistant
        "assistant_title": "AI Assistant",
        "assistant_placeholder": "Ask your question...",
        "assistant_send": "Send",
        "assistant_welcome": "Hello! I'm your fitness assistant. How can I help you?",
        "assistant_quick_actions": "Quick Actions",
        "assistant_generate_week": "Generate Week 1",
        "assistant_enable_reminders": "Enable Reminders",
        "assistant_explain_macros": "Explain Macros",
        "assistant_tips": "Today's Tips",

        // Tracking
        "tracking_title": "Tracking",
        "tracking_weight": "Weight",
        "tracking_sessions": "Sessions",
        "tracking_add_weight": "Add Weight",
        "tracking_current_weight": "Current weight",
        "tracking_start_weight": "Starting weight",
        "tracking_progress": "Progress",
        "tracking_no_data": "No data yet",
        "tracking_no_data_desc": "Start logging your weight",
        "tracking_no_sessions_desc": "Complete your first workout to see your history",
        "tracking_history": "History",
        "tracking_export": "Export CSV",
        "tracking_kg": "kg",
        "tracking_tap_to_edit": "Tap to enter manually",
        "tracking_gained": "gained",
        "tracking_lost": "lost",

        // Settings
        "settings_title": "Settings",
        "settings_profile": "Profile",
        "settings_notifications": "Notifications",
        "settings_notifications_enabled": "Enable notifications",
        "settings_reminder": "Reminder before workout",
        "settings_minutes_before": "minutes before",
        "settings_language": "Language",
        "settings_about": "About",
        "settings_disclaimer": "Health disclaimer",
        "settings_reset": "Reset app",
        "settings_reset_confirm": "Are you sure you want to reset everything? This action cannot be undone.",
        "settings_version": "Version",
        "settings_export_data": "Export my data",

        // Exercise Names
        "ex_push_ups": "Push-ups",
        "ex_diamond_push_ups": "Diamond Push-ups",
        "ex_wide_push_ups": "Wide Push-ups",
        "ex_decline_push_ups": "Decline Push-ups",
        "ex_pike_push_ups": "Pike Push-ups",
        "ex_dumbbell_bench_press": "Dumbbell Bench Press",
        "ex_dumbbell_flyes": "Dumbbell Flyes",
        "ex_incline_dumbbell_press": "Incline Dumbbell Press",
        "ex_dumbbell_pullover": "Dumbbell Pullover",
        "ex_dumbbell_rows": "Dumbbell Rows",
        "ex_single_arm_row": "Single Arm Row",
        "ex_renegade_rows": "Renegade Rows",
        "ex_dumbbell_deadlift": "Dumbbell Deadlift",
        "ex_dumbbell_shoulder_press": "Dumbbell Shoulder Press",
        "ex_lateral_raises": "Lateral Raises",
        "ex_front_raises": "Front Raises",
        "ex_rear_delt_flyes": "Rear Delt Flyes",
        "ex_dumbbell_shrugs": "Dumbbell Shrugs",
        "ex_bicep_curls": "Bicep Curls",
        "ex_hammer_curls": "Hammer Curls",
        "ex_concentration_curls": "Concentration Curls",
        "ex_tricep_kickbacks": "Tricep Kickbacks",
        "ex_tricep_extensions": "Tricep Extensions",
        "ex_close_grip_push_ups": "Close Grip Push-ups",
        "ex_goblet_squats": "Goblet Squats",
        "ex_lunges": "Lunges",
        "ex_bulgarian_split_squats": "Bulgarian Split Squats",
        "ex_dumbbell_rdl": "Dumbbell RDL",
        "ex_calf_raises": "Calf Raises",
        "ex_glute_bridges": "Glute Bridges",
        "ex_hip_thrusts": "Hip Thrusts",
        "ex_step_ups": "Step-ups",
        "ex_wall_sit": "Wall Sit",
        "ex_squats": "Squats",
        "ex_jump_squats": "Jump Squats",
        "ex_plank": "Plank",
        "ex_side_plank": "Side Plank",
        "ex_mountain_climbers": "Mountain Climbers",
        "ex_leg_raises": "Leg Raises",
        "ex_russian_twists": "Russian Twists",
        "ex_crunches": "Crunches",
        "ex_bicycle_crunches": "Bicycle Crunches",
        "ex_dead_bug": "Dead Bug",
        "ex_superman": "Superman",
        "ex_burpees": "Burpees",
        "ex_jumping_jacks": "Jumping Jacks",
        "ex_high_knees": "High Knees",

        // Workout Types
        "workout_full_body": "Full Body",
        "workout_upper_body": "Upper Body",
        "workout_lower_body": "Lower Body",
        "workout_push": "Push",
        "workout_pull": "Pull",
        "workout_legs": "Legs",
        "workout_arms": "Arms",
        "workout_core": "Core",
        "workout_challenge": "Challenge",

        // New Exercises
        "ex_arnold_press": "Arnold Press",
        "ex_incline_curls": "Incline Curls",
        "ex_skull_crushers": "Skull Crushers",
        "ex_sumo_squats": "Sumo Squats",
        "ex_weighted_crunches": "Weighted Crunches",
        "ex_archer_push_ups": "Archer Push-ups",
        "ex_handstand_hold": "Handstand Hold",
        "ex_bench_dips": "Bench Dips",
        "ex_pistol_squats": "Pistol Squats",
        "ex_jumping_lunges": "Jumping Lunges",
        "ex_single_leg_glute_bridge": "Single Leg Glute Bridge",
        "ex_donkey_kicks": "Donkey Kicks",
        "ex_hollow_hold": "Hollow Hold",
        "ex_v_ups": "V-ups",
        "ex_reverse_snow_angels": "Reverse Snow Angels",
        "ex_star_jumps": "Star Jumps",
        "ex_dumbbell_complex": "Dumbbell Complex",
        "ex_complex_note": "Curl + Press + Squat chained",

        // Meal Names
        "meal_oatmeal_banana": "Oatmeal with Banana",
        "meal_eggs_toast": "Eggs and Toast",
        "meal_protein_smoothie": "Protein Smoothie",
        "meal_greek_yogurt": "Greek Yogurt with Fruits",
        "meal_chicken_rice": "Chicken Rice Vegetables",
        "meal_pasta_beef": "Pasta Ground Beef",
        "meal_salmon_quinoa": "Salmon Quinoa",
        "meal_tuna_salad": "Tuna Salad",
        "meal_steak_potatoes": "Steak and Potatoes",
        "meal_turkey_wrap": "Turkey Wrap",
        "meal_fish_vegetables": "Fish and Vegetables",
        "meal_beef_stir_fry": "Beef Stir Fry",
        "meal_nuts_fruit": "Nuts and Fruits",
        "meal_protein_bar": "Protein Bar",
        "meal_cottage_cheese": "Cottage Cheese",

        // Days
        "day_monday": "Monday",
        "day_tuesday": "Tuesday",
        "day_wednesday": "Wednesday",
        "day_thursday": "Thursday",
        "day_friday": "Friday",
        "day_saturday": "Saturday",
        "day_sunday": "Sunday",

        // Errors
        "error_generation": "Error during generation",
        "error_save": "Error while saving",
        "error_load": "Error while loading",

        // Authentication
        "auth_title": "Create Account",
        "auth_subtitle": "Save your data and sync across devices",
        "auth_skip": "Continue without account",
        "auth_signup": "Sign Up",
        "auth_signin": "Sign In",
        "auth_email": "Email",
        "auth_password": "Password",
        "auth_google": "Continue with Google",
        "auth_or": "or",
        "auth_sign_out": "Sign Out",
        "auth_sign_out_confirm": "Do you really want to sign out? You will need to sign in again to access your data.",
        "auth_delete_account": "Delete Account",
        "auth_delete_confirm": "Are you sure you want to delete your account? All your data will be lost.",
        "auth_anonymous": "Guest Account",
        "auth_logged_in_as": "Logged in",
        "auth_not_logged_in": "Not logged in",
        "settings_account": "Account",
        "settings_appearance": "Appearance",
        "settings_theme": "Theme",
        "settings_accent_color": "Accent color",
        "settings_danger_zone": "Danger zone",

        // Theme modes
        "theme_mode_system": "System",
        "theme_mode_light": "Light",
        "theme_mode_dark": "Dark",

        // Accent colors
        "accent_color_teal": "Teal",
        "accent_color_coral": "Coral",
        "accent_color_purple": "Purple",
        "accent_color_blue": "Blue",
        "accent_color_green": "Green",
        "accent_color_orange": "Orange",
        "accent_color_pink": "Pink",

        // Notifications
        "settings_workout_time": "Workout time",
        "notification_workout_time": "Time for your workout! ðŸ’ª",
        "notification_new_week": "Plan your week! Generate your workout program for the upcoming week ðŸ“…",
        "notification_weekly_summary": "Your week is done! Check your recap and plan the next one ðŸ“Š",

        // Weekly Summary
        "summary_title": "Weekly Recap",
        "summary_completed": "completed",
        "summary_sessions": "Sessions",
        "summary_training_time": "Total time",
        "summary_streak": "Streak",
        "summary_days": "days",
        "summary_avg_rating": "Avg rating",
        "summary_weight_progress": "Weight progress",
        "summary_start": "Start",
        "summary_end": "End",
        "summary_best_exercises": "Best improvements",
        "summary_nutrition": "Average nutrition",
        "summary_recommendations": "AI Recommendations",
        "summary_no_recommendations": "Complete a few sessions to get personalized recommendations.",
        "summary_generate_next_week": "Generate next week",
        "summary_banner_title": "Weekly recap available",
        "summary_banner_subtitle": "View your progress and plan next week",

        // Loading Overlays
        "meals_generating_title": "Preparing your meals",
        "meals_generating_subtitle": "AI is creating a personalized menu for your goals",
        "workouts_generating_title": "Creating your program",
        "workouts_generating_subtitle": "AI is optimizing your workouts for the week",

        // Premium / Subscription
        "premium_title": "FitAI Premium",
        "premium_unlock": "Unlock the full power of AI",
        "premium_subtitle": "Unlimited personalized programs and meal plans",
        "premium_feature_ai": "Unlimited AI",
        "premium_feature_ai_desc": "Generate programs and meals without limits",
        "premium_feature_meals": "Personalized Meals",
        "premium_feature_meals_desc": "Daily menus tailored to your goals",
        "premium_feature_workouts": "Adaptive Programs",
        "premium_feature_workouts_desc": "Workouts that evolve with you",
        "premium_feature_summary": "Weekly AI Summary",
        "premium_feature_summary_desc": "Personalized recommendations every week",
        "premium_feature_regenerate": "Unlimited Regeneration",
        "premium_feature_regenerate_desc": "Change your program anytime",
        "premium_monthly": "Monthly",
        "premium_monthly_desc": "Billed monthly, cancel anytime",
        "premium_yearly": "Yearly",
        "premium_yearly_desc": "Best value, save over 30%",
        "premium_month": "month",
        "premium_subscribe": "Subscribe",
        "premium_restore": "Restore purchases",
        "premium_legal": "Subscription auto-renews. Cancel anytime in App Store settings.",
        "premium_terms": "Terms of Use",
        "premium_privacy": "Privacy Policy",
        "premium_loading_error": "Unable to load subscriptions",
        "premium_retry": "Retry",
        "premium_remaining": "generations left this month",
        "premium_limit_reached": "Limit reached this month",
        "premium_upgrade": "Go Premium",
        "premium_badge": "Premium",
        "premium_free_trial": "7 days free",
        "settings_subscription": "Subscription",
        "settings_subscription_status": "Status",
        "settings_subscription_free": "Free",
        "settings_subscription_premium": "Premium",
        "settings_manage_subscription": "Manage subscription",
        "settings_premium_active": "Subscription active",
        "settings_free_plan": "Free Plan",
        "settings_free_limits": "Limited AI generations",
        "settings_workouts_remaining": "Programs remaining",
        "settings_meals_remaining": "Menus remaining",
    ]
}

// MARK: - String Extension for Localization

extension String {
    @MainActor
    func localized(with manager: LocalizationManager) -> String {
        manager.localized(self)
    }
}

// MARK: - Environment Key

struct LocalizationKey: EnvironmentKey {
    @MainActor static let defaultValue = LocalizationManager.shared
}

extension EnvironmentValues {
    var localization: LocalizationManager {
        get { self[LocalizationKey.self] }
        set { self[LocalizationKey.self] = newValue }
    }
}

